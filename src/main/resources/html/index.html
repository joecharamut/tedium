<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8" />
    <title>Minecraft Thingy</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <style>
        * {
            font-family: 'Ubuntu', 'Lucida Grande', 'Lucida Sans Unicode', 'Geneva', 'Verdana', sans-serif;
        }

        body {
            margin: 40px auto;
            max-width: 650px;
            line-height: 1.6;
            font-size: 18px;
            color: #444;
            background-color: #eee;
            padding: 0 10px
        }

        h1, h2, h3 {
            line-height: 1.2
        }
    </style>
</head>
<body>
<h2>Hello from Minecraft, <x-include url="/name" /></h2>
<br><br>
<img src="/screenshot" alt="screen" style="width: 100%" />
<br><br>
<p>Your current position is: <x-include url="/position" /></p>
<p>You are standing on: <x-include url="/under" /></p>
<br><br>

<br><button onclick="fetch('/near');">near</button><br>
<br><button onclick="fetch('/test');">test</button><br>
<br><input id="yaw" type="range" min="0" max="360" step="1"><br>
<script>
    document.getElementById("yaw").addEventListener("input", function(e) {
        fetch(`/look?yaw=${document.getElementById('yaw').value}`)
    });
</script>

<script>
    class IncludeElement extends HTMLElement {
        constructor() {
            super();
            this.innerText = "Error";
            let url = this.attributes.getNamedItem("url").value;
            if (url !== undefined && url !== null) {
                fetch(url)
                    .then(response => response.text())
                    .then(data => {
                        this.innerText = data;
                    });
            }
        }
    }
    customElements.define("x-include", IncludeElement);
</script>
</body>
</html>